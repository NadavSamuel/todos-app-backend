(this["webpackJsonptodos-app"]=this["webpackJsonptodos-app"]||[]).push([[0],{156:function(e,t,n){},184:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),o=n.n(a),c=n(62),s=n.n(c),i=(n(184),n(46)),u=n(15),l=n(9),d=n.n(l),j=n(12),b=n(238),f=n(13),h=n(233),p=n(244),O=n(230),x=n(231),m=n(215),g=n(102),v=n(137);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(a.useState)(e),r=Object(f.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){t(o)}),[o]),[o,function(e){var t="number"===e.target.type?+e.target.value:e.target.value;c(Object(v.a)(Object(v.a)({},o),{},Object(g.a)({},e.target.name,t)))},function(){c(e)},function(e){c(e)}]}var k=n(47),S=n(68),w=n(14),C=n(158),T="https://todos-app-nadav-s.herokuapp.com/api/",E=n.n(C).a.create({withCredentials:!0}),N=function(e,t){return U(e,"GET",t)},I=function(e,t){return U(e,"POST",t)},L=function(e,t){return U(e,"PUT",t)},A=function(e,t){return U(e,"DELETE",t)};function U(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(d.a.mark((function e(t){var n,r,a,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"get",r=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,E({url:"".concat(T).concat(t),method:n,data:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0.response.status;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D={query:function(e){var t="";e.title&&(t+="?title=".concat(e.title));return console.log("query s ,",t),N("todo".concat(t||""))},save:function(e){e._id?L("todo/",{todoToSave:e}):I("todo/",{todoToSave:e});return Promise.resolve(e)},remove:function(e){return A("todo/".concat(e))},getById:function(e){return N("todo/".concat(e))}};var M=function(){function e(t,n){Object(k.a)(this,e),this.rootStore=void 0,this.userStore=void 0,this.todos=null,this.filterBy={title:""},this.todosAmount=0,this.rootStore=t,this.userStore=n,Object(w.c)(this)}return Object(S.a)(e,[{key:"loadTodos",value:function(){var e=this;Object(w.d)(Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.query(e.filterBy);case 2:e.todos=t.sent,e.getTotalTodosNumber();case 4:case"end":return t.stop()}}),t)}))))}},{key:"saveTodo",value:function(e){try{Object(w.d)(Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.save(e);case 2:case"end":return t.stop()}}),t)}))))}catch(t){console.log("err in save action!",t)}}},{key:"deleteTodo",value:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.remove(t);case 3:return e.next=5,this.loadTodos();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err in delete action!",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setFilter",value:function(e){var t=this;Object(w.d)((function(){t.filterBy.title=e}))}},{key:"getTotalTodosNumber",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.query({title:""});case 2:t=e.sent,n=t.length,Object(w.d)((function(){r.todosAmount=n}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sortedTodos",get:function(){return this.todos?this.todos.slice().sort((function(e,t){return Number(t.pinned)-Number(e.pinned)})):null}}]),e}(),F={login:function(e){return B.apply(this,arguments)},logout:function(){return R.apply(this,arguments)},signup:function(e){return H.apply(this,arguments)},getUsers:function(){return N("user")},getById:function(e){return N("user/".concat(e))},remove:function(e){return A("user/".concat(e))},update:function(e){return L("user/".concat(e._id),e)}};function B(){return(B=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/login",t);case 2:return n=e.sent,e.abrupt("return",_(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",_(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var q=n(204).sessionStorage,J=function(){function e(t,n){Object(k.a)(this,e),this.rootStore=void 0,this.systemStore=void 0,this.loggedInUser=null,this.rootStore=t,this.systemStore=n,Object(w.c)(this)}return Object(S.a)(e,[{key:"getLoggedInUser",value:function(){var e=this;Object(w.d)((function(){e.loggedInUser=JSON.parse(q.getItem("user"))}))}},{key:"onlogin",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.login(t);case 3:n=e.sent,Object(w.d)((function(){r.systemStore.isError.existingError&&r.systemStore.onErrorHandle(),r.loggedInUser=n})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),401===e.t0?this.systemStore.onError(401):this.systemStore.onError();case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSignup",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.signup(t);case 2:n=e.sent,Object(w.d)((function(){r.loggedInUser=n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.logout();case 2:Object(w.d)((function(){t.loggedInUser=null}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),z=function(){function e(t){Object(k.a)(this,e),this.rootStore=void 0,this.isLoading=!1,this.isError={existingError:!1,errorStatus:null},this.rootStore=t,Object(w.c)(this)}return Object(S.a)(e,[{key:"turnLoaderOn",value:function(){var e=this;Object(w.d)((function(){e.isLoading=!0}))}},{key:"turnLoaderOff",value:function(){var e=this;Object(w.d)((function(){setTimeout((function(){return e.isLoading=!1}),1500)}))}},{key:"onError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(w.d)((function(){e.isError.existingError=!0,t&&(e.isError.errorStatus=t)}))}},{key:"onErrorHandle",value:function(){var e=this;Object(w.d)((function(){e.isError.existingError=!1,e.isError.errorStatus=null}))}}]),e}(),W=Object(a.createContext)(new function e(){Object(k.a)(this,e),this.systemStore=new z(this),this.userStore=new J(this,this.systemStore),this.todosStore=new M(this,this.userStore)}),G=n(163),V=n(240),X=n(41),Y=n(235),K=function(e){var t=e.onChooseColor;return Object(r.jsx)("section",{className:"color-palate",children:["#fff475","#fbbc04","#f28b82","white","#aecbfa","#cbf0f8","#a7ffeb","#ccff90","#e8eaed","#e6c9a8","#fdcfe8","#d7aefb"].map((function(e,n){return Object(r.jsx)("div",{onClick:function(){return t(e)},className:"color color-".concat(e," cursor-pointer"),style:{backgroundColor:e}},e)}))})},Q=n(69),Z=n.n(Q),$=function(e){var t=e.txt,n=e.onContentEditable,o=Object(a.useRef)();return Object(r.jsx)(Z.a,{innerRef:o,html:t,disabled:!1,onChange:function(e){n(e.target.value)},tagName:"p"})},ee=n(239),te=n(241),ne=function(e){var t=e.onToggleMarkable,n=e.markable,a=e.onDeleteMarkable,o=n.txt,c=n.isDone?"blue":null;return Object(r.jsxs)(ee.a.Item,{as:"li",className:"markable ",onClick:function(){return t(n)},children:[Object(r.jsx)(te.a,{color:c,children:o}),Object(r.jsx)(m.a,{icon:"delete",onClick:function(e){e.stopPropagation(),a(o)}})]},o)},re=n(237),ae=function(e){var t=e.markables,n=e.onToggleMarkable,a=e.onAddMarkable,c=e.onDeleteMarkable,s=e.placeholder,i=y({txt:"",isDone:null}),u=Object(f.a)(i,3),l=u[0],d=u[1],j=u[2];return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(p.a,{as:"h4",children:"To do:"}),Object(r.jsx)(ee.a,{className:"list-markabeles cursor-pointer",children:t&&t.map((function(e){return Object(r.jsx)(ne,{onDeleteMarkable:c,markable:e,onToggleMarkable:n},e.txt)}))}),Object(r.jsx)(re.a,{onSubmit:function(){l.isDone=!1,a(l),j()},children:Object(r.jsx)(O.a,{placeholder:s,autoComplete:"off",name:"txt",onChange:d,value:l.txt})})]})},oe=n(164),ce=n(232),se=n(245),ie=function(e){var t=e.cmpType;return Object(r.jsxs)(se.a,{children:["OOPS! seems like your ",t," url is broken, plese try a different url."]})},ue=function(e){var t=e.url,n=e.onNewUrl,o=e.placeholder,c=e.isNewTxt,s=e.type,i=e.isNewTodo,u=y({txt:""}),l=Object(f.a)(u,2),d=l[0],j=l[1];function b(){try{if(!t)return;var e=t.split("v=")[1],n=e.indexOf("&");return e=e.substring(0,n)}catch(r){return null}}Object(a.useEffect)((function(){d.txt="",m(!1)}),[t]);var h=Object(a.useState)(!1),p=Object(f.a)(h,2),x=p[0],m=p[1];return i&&c?Object(r.jsx)(re.a,{children:Object(r.jsx)(O.a,{name:"txt",placeholder:o,onChange:function(e){j(e),n(e.target.value,!1)},value:d.txt})}):c?Object(r.jsx)(re.a,{onSubmit:function(){n(d.txt,!1)},children:Object(r.jsx)(O.a,{name:"txt",placeholder:o,onChange:j,value:d.txt})}):b()||"video"!==s?"img"===s&&x?Object(r.jsx)(ie,{cmpType:"image"}):"img"===s?Object(r.jsx)(oe.a,{onError:function(){return m(!0)},src:t,alt:""}):"video"===s?Object(r.jsx)(ce.a,{id:b(),source:"youtube"}):void 0:Object(r.jsx)(ie,{cmpType:"video"})};function le(e){switch(e){case"txt":return"Enter todo text";case"list":return"Enter todos";case"img":return"Enter an image URL";case"video":return"Enter a youtube URL"}}function de(e,t,n,a,o,c,s,i){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];switch(e){case"txt":return Object(r.jsx)($,{txt:t,onContentEditable:n});case"list":return Object(r.jsx)(ae,{onDeleteMarkable:a,placeholder:le(e),onAddMarkable:o,onToggleMarkable:c,markables:s});case"img":case"video":return Object(r.jsx)(ue,{isNewTodo:u,type:e,isNewTxt:i,placeholder:le(e),onNewUrl:n,url:t})}}var je=function(e){var t=e.type,n=e.onTodoSubmit,o=e.isSendTodo,c=void 0!==o&&o;Object(a.useEffect)((function(){c&&function(){var e={title:u,type:t,txt:x,bgc:b,pinned:k};"list"===t&&(e.markables=T);n(e),l("Title"),g("Enter text here"),S(!1),E([]),h(null),A(!1)}(),c=!1}));var s=Object(a.useState)("Title"),i=Object(f.a)(s,2),u=i[0],l=i[1],d=Object(a.useState)(null),j=Object(f.a)(d,2),b=j[0],h=j[1],p=Object(a.useState)("Enter txt here"),O=Object(f.a)(p,2),x=O[0],g=O[1],v=Object(a.useState)(!1),y=Object(f.a)(v,2),k=y[0],S=y[1],w=Object(a.useState)([]),C=Object(f.a)(w,2),T=C[0],E=C[1],N=Object(a.useState)(!1),I=Object(f.a)(N,2),L=I[0],A=I[1],U=Object(a.useRef)();return Object(r.jsxs)(V.a,{centered:!0,className:"todo-card",style:{backgroundColor:b,transition:"0.3s",maxHeight:"100%"},children:[Object(r.jsx)(X.a,{onClick:function(){return S(!k)},className:"pin-btn cursor-pointer",style:{marginBottom:"20px",alignSelf:"center"},color:k?"red":"black",name:"pin"}),Object(r.jsx)(Z.a,{innerRef:U,html:u,disabled:!1,onChange:function(e){l(e.target.value)},tagName:"h2"}),Object(r.jsx)(V.a.Description,{children:de(t,x,(function(e){g(e)}),(function(e){E(T.filter((function(t){return t.txt!==e})))}),(function(e){E([].concat(Object(G.a)(T),[e]))}),(function(){}),T,!0,!0)}),Object(r.jsx)(V.a.Content,{textAlign:"center",className:"card-btns-container",children:Object(r.jsx)(Y.a,{on:"click",pinned:!0,open:L,onClose:function(){return A(!1)},onOpen:function(){return A(!0)},trigger:Object(r.jsxs)(m.a,{circular:!0,icon:!0,children:[" ",Object(r.jsx)(X.a,{name:"paint brush"})]}),children:Object(r.jsx)(K,{onChooseColor:function(e){h(e)}})})})]})},be=Object(b.a)((function(){var e=Object(a.useContext)(W),t=e.todosStore,n=e.systemStore,o=e.userStore,c=t.todosAmount,s=o.loggedInUser.username,i=Object(a.useState)("txt"),u=Object(f.a)(i,2),l=u[0],b=u[1],g=Object(a.useState)(!1),v=Object(f.a)(g,2),k=v[0],S=v[1],w=y({title:""}),C=Object(f.a)(w,2),T=C[0],E=C[1];function N(){return(N=Object(j.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!1),n.turnLoaderOn(),e.next=5,t.saveTodo(r);case 5:return e.next=7,t.loadTodos();case 7:b("txt"),n.turnLoaderOff(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n.onError();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function I(){return(I=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(n),t.setFilter(n.target.value),t.loadTodos();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)(h.a,{className:"todos-header",textAlign:"center",children:[Object(r.jsxs)(h.a,{className:"search-container",textAlign:"left",children:[Object(r.jsxs)(p.a,{children:[" Hello ",s,"! you have ",c," todos "]}),Object(r.jsx)(O.a,{icon:{name:"search",circular:!0},placeholder:"Search for a todo",onChange:function(e){return I.apply(this,arguments)},value:T.title,name:"title",autoComplete:"off"})]}),Object(r.jsx)(x.a,{name:"type",value:l,onChange:function(e,t){t.name;var n=t.value;b(n)},options:[{key:"txt",text:"Text",value:"txt"},{key:"list",text:"List",value:"list"},{key:"img",text:"Image",value:"img"},{key:"video",text:"Video",value:"video"}],style:{minWidth:"8rem"}}),Object(r.jsx)(m.a,{type:"button",onClick:function(){S(!0)},children:"Send"}),Object(r.jsx)(je,{isSendTodo:k,type:l,onTodoSubmit:function(e){return N.apply(this,arguments)}})]})})),fe=n(211),he=Object(b.a)((function(e){var t=e.todo,n=t.txt,o=t._id,c=t.pinned,s=t.title,i=t.created,u=t.lastUpdated,l=t.markables,b=t.type,h=Object(a.useContext)(W),O=h.todosStore,x=h.systemStore,g=Object(a.useState)(!1),v=Object(f.a)(g,2),y=v[0],k=v[1],S=Object(a.useState)(!1),w=Object(f.a)(S,2),C=w[0],T=w[1],E=Object(a.useRef)();function N(){return(N=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.turnLoaderOn(),e.next=3,O.deleteTodo(o);case 3:x.turnLoaderOff();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){n||T(!0)}),[]);var I=null;function L(e){t.txt=e,A(t),T(!1)}function A(){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(d.a.mark((function e(){var n,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:t,e.prev=1,x.turnLoaderOn(),e.next=5,O.saveTodo(n);case 5:x.turnLoaderOff(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),x.onError(),console.log("OOPS!",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(r.jsxs)(V.a,{className:"todo-card",style:{backgroundColor:t.bgc,transition:"0.3s",maxHeight:"100%"},children:[Object(r.jsx)(X.a,{onClick:function(){t.pinned=!t.pinned,A(t)},className:"pin-btn cursor-pointer",style:{marginBottom:"20px",alignSelf:"center"},color:c?"red":"black",name:"pin"}),Object(r.jsx)(Z.a,{innerRef:E,html:s||"title",disabled:!1,onChange:function(e){I&&clearTimeout(I),I=setTimeout((function(){t.title=e.target.value,A(t)}),2500)},tagName:"h2"}),Object(r.jsxs)(p.a,{as:"h4",children:["Created :","".concat(fe(i).fromNow())]}),u&&Object(r.jsxs)(p.a,{as:"h4",children:["Last updated: ","".concat(fe(u).fromNow())]}),Object(r.jsx)(V.a.Description,{children:de(b,n,(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?(I&&clearTimeout(I),I=setTimeout((function(){L(e)}),2500)):L(e)}),(function(e){t.markables=t.markables.filter((function(t){return t.txt!==e})),A(t)}),(function(e){t.markables.push(e),A(t)}),(function(e){e.isDone=!e.isDone,t.markables=t.markables.map((function(t){return t.txt===e.txt&&(t=e),t})),A(t)}),l,C)}),Object(r.jsxs)(V.a.Content,{textAlign:"center",className:"card-btns-container",children:[Object(r.jsx)(m.a,{circular:!0,onClick:function(){return N.apply(this,arguments)},icon:!0,children:Object(r.jsx)(X.a,{name:"trash alternate outline"})}),function(){if("img"===b||"video"===b)return!0}()&&Object(r.jsx)(m.a,{active:C,circular:!0,onClick:function(){T(!C)},icon:!0,children:Object(r.jsx)(X.a,{name:"edit outline"})}),Object(r.jsx)(Y.a,{on:"click",pinned:!0,open:y,onClose:function(){return k(!1)},onOpen:function(){return k(!0)},trigger:Object(r.jsxs)(m.a,{circular:!0,icon:!0,children:[" ",Object(r.jsx)(X.a,{name:"paint brush"})]}),children:Object(r.jsx)(K,{onChooseColor:function(e){t.bgc=e,A(t),k(!1)}})})]})]})})),pe=n(139),Oe=n.n(pe),xe=function(e){var t=e.todos,n={default:4,1100:3,700:2,500:1};return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("ul",{className:"todos-list clean-list ",children:Object(r.jsx)(Oe.a,{breakpointCols:n,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(e){if(e.pinned)return Object(r.jsx)(he,{todo:e},e._id)}))})}),Object(r.jsx)("ul",{className:"todos-list clean-list ",children:Object(r.jsx)(Oe.a,{breakpointCols:n,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(e){if(!e.pinned)return Object(r.jsx)(he,{todo:e},e._id)}))})})]})},me=n(161),ge=function(e){return Object(me.a)(e),Object(r.jsx)(se.a,{textAlign:"center",children:Object(r.jsxs)(p.a,{icon:!0,children:[Object(r.jsx)(X.a,{name:"exclamation"}),"You have no Todos. Please make some."]})})},ve=Object(b.a)((function(){var e=Object(a.useContext)(W).systemStore;function t(){e.onErrorHandle()}return Object(r.jsxs)(te.a,{style:{position:"fixed",top:"30%",border:"0",left:"0",right:"0",bottom:"0",zIndex:"9999",height:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},error:!0,onClose:t,floating:!0,children:[Object(r.jsxs)(p.a,{icon:!0,children:[Object(r.jsx)(X.a,{name:"archive"}),"OOPS! an error occoured"]}),Object(r.jsx)(te.a.Content,{children:Object(r.jsx)("p",{children:"Please try again"})}),Object(r.jsx)(te.a.Content,{children:Object(r.jsxs)(m.a,{onClick:t,basic:!0,color:"red",children:[Object(r.jsx)(X.a,{name:"remove"})," Ok"]})})]})})),ye=n(242),ke=Object(b.a)((function(){var e=Object(a.useContext)(W),t=e.todosStore,n=e.userStore,c=e.systemStore,s=t.todos,i=t.sortedTodos,l=n.loggedInUser,b=Object(u.f)(),f=c.isError.existingError;function h(){return(h=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l||n.getLoggedInUser(),l){e.next=4;break}throw Error;case 4:return e.next=6,t.loadTodos();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("catch",e.t0),b.push("/");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),s?(c.turnLoaderOff(),Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(ye.a,{active:f,style:{position:"fixed"}}),Object(r.jsx)(be,{}),l&&s&&Object(r.jsx)(xe,{todos:i}),l&&!s.length&&Object(r.jsx)(ge,{}),f&&Object(r.jsx)(ve,{})]})):(c.turnLoaderOn(),null)})),Se=n.p+"static/media/profile.27221dc4.jpg",we=function(){return Object(r.jsxs)(h.a,{className:"about-page",textAlign:"center",children:[Object(r.jsx)(oe.a,{centered:!0,circular:!0,size:"medium",src:Se}),Object(r.jsxs)(se.a,{children:[Object(r.jsxs)(p.a,{children:["Hi! my name is Nadav Samuel and i'm a ",Object(r.jsx)("strong",{children:"Full-Stack"})," developer!"]}),Object(r.jsx)(h.a,{textAlign:"left",as:"p",children:"I'm 22 years old, born in Givaataim, Israel. Motivational fullstack web developer. People person and a team player."}),Object(r.jsx)(h.a,{textAlign:"left",as:"p",children:"I took this project as an opportunity to study some new technologies: MobX for state management and Typescript."}),Object(r.jsxs)(h.a,{textAlign:"left",children:[Object(r.jsx)("a",{href:"https://nadav-samuel-portfolio.herokuapp.com/#/",children:"Check out my portfolio!"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("a",{href:"https://www.linkedin.com/in/nadav-samuel-0b51291b9/",children:"Check out my Linkedin!"})]}),Object(r.jsx)(p.a,{as:"h2",textAlign:"left",children:"samuelna9@gmail.com"})]})]})},Ce=function(e){var t=e.errorStatus,n=401===(void 0===t?null:t)?"OOPS! Wrong e-mail or password":"OOPS! Something went wrong";return Object(r.jsxs)(te.a,{negative:!0,children:[Object(r.jsx)(te.a.Header,{children:n}),Object(r.jsx)("p",{children:"Please try again"})]})},Te=(n(155),Object(b.a)((function(){var e=Object(a.useContext)(W),t=e.userStore,n=e.systemStore,c=y({email:"",password:"",username:""}),s=Object(f.a)(c,3),i=s[0],l=s[1],b=s[2],O=Object(a.useState)(!1),x=Object(f.a)(O,2),g=x[0],v=x[1],k=n.isError.existingError,S=n.isError.errorStatus,w=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var n=function(){o(t.matches)};return t.addListener(n),function(){return t.removeListener(n)}}),[r,e]),r}("(min-width: 600px)");function C(){return w?5:10}var T=Object(u.f)();function E(){return(E=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g){e.next=6;break}return e.next=4,t.onlogin(i);case 4:e.next=8;break;case 6:return e.next=8,t.onSignup(i);case 8:t.loggedInUser&&T.push("/TodosApp"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),n.onError(),b();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var N=g?"Sign up":"Login",I=g?"Switch to login ":"Create an account!",L=Object(r.jsxs)(re.a.Field,{width:C(),children:[Object(r.jsx)("label",{children:"Username"}),Object(r.jsx)("input",{type:"text",onChange:l,name:"username",placeholder:"Enter user name"})]});return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(h.a,{className:"login-page",children:[Object(r.jsx)(p.a,{textAlign:"center",as:"h1",children:"Welcome to Todos App!"}),k&&Object(r.jsx)(Ce,{errorStatus:S}),Object(r.jsxs)(re.a,{onSubmit:function(){return E.apply(this,arguments)},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[g&&L,Object(r.jsxs)(re.a.Field,{width:C(),children:[Object(r.jsx)("label",{children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:l,name:"email",placeholder:"Enter email"})]}),Object(r.jsxs)(re.a.Field,{width:C(),children:[Object(r.jsx)("label",{children:"Password"}),Object(r.jsx)("input",{type:"password",onChange:l,name:"password",placeholder:"Enter password"})]}),Object(r.jsx)(m.a,{type:"submit",children:N})]}),Object(r.jsx)(m.a,{className:"switch-btn",onClick:function(){v(!g)},content:I,basic:!0})]})})}))),Ee=n(236),Ne=n(234),Ie=Object(b.a)((function(){var e=Object(u.f)(),t=Object(a.useContext)(W),n=t.userStore,o=t.systemStore,c=n.loggedInUser,s=o.isLoading;function l(){return(l=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.push("/"),t.next=4,n.logout();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),o.onError(),console.log("OOPS! had problem at logout, ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(r.jsxs)(Ee.a,{as:"nav",fluid:!0,children:[Object(r.jsx)(Ee.a.Item,{as:p.a,name:"Todos App",children:Object(r.jsx)(i.b,{to:c?"/TodosApp":"/",children:Object(r.jsx)("a",{children:"Todos App"})})}),c&&Object(r.jsx)(Ee.a.Item,{position:"left",children:Object(r.jsx)(se.a,{children:Object(r.jsx)(ye.a,{active:!0,inverted:!0,children:s?Object(r.jsx)(Ne.a,{inverted:!0}):Object(r.jsx)(X.a,{color:"green",size:"large",name:"check"})})})}),Object(r.jsxs)(Ee.a.Menu,{position:"right",children:[Object(r.jsx)(Ee.a.Item,{children:Object(r.jsx)(i.b,{to:"/About",children:Object(r.jsx)("a",{children:"About"})})}),c&&Object(r.jsx)(Ee.a.Item,{position:"right",children:Object(r.jsx)(m.a,{onClick:function(){return l.apply(this,arguments)},children:"Logout"})})]})]})}));n(156);var Le=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)(Ie,{}),Object(r.jsx)("main",{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/TodosApp",component:ke}),Object(r.jsx)(u.a,{path:"/about",component:we}),Object(r.jsx)(u.a,{path:"/",component:Te})]})})]})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,247)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Le,{})}),document.getElementById("root")),Ae()}},[[214,1,2]]]);
//# sourceMappingURL=main.2eca4840.chunk.js.map